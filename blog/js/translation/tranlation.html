<!DOCTYPE html>
<html>
    <head>
        <title>
            translation
        </title>
        <link rel="stylesheet" href="translation.css">
    </head>
    <body>
        <section id="app">
            <div>
                <div id="text_input">
                <input v-model="obj.words" type="text" placeholder="input:">
                </div>
                <div>
                    <p>{{result}}</p>
                </div>
            </div>
        </section>

        
        <script src="https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        <script>
            const app =new Vue({
                el:'#app',//挂载点，指明使用vue的对象
                data:{//所有的vue变量声明和初始化
                    obj:{
                        words:'',
                    },
                    result:'',
                    timer:null
                },
                methods:{
                },
                watch:{
                    //数据变化时调用执行内部方法
                    'obj.words' (newValue){//监测obj.words，变化时拿到newvalue
                    clearTimeout(this.timer)//重置计时器
                    this.timer=setTimeout(
                        async() => {
                            const res=await axios({//异步请求发送
                                url:'https://applet-base-api-t.itheima.net/api/translate',
                                params:{
                                    words:newValue,
                                }
                            })
                            this.result=res.data.data
                            console.log(res.data.data)
                        },1000)//计时一秒后执行箭头函数发送请求
                    }
                }
            })
        </script>
    </body>
</html>